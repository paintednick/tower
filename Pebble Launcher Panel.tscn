[gd_scene load_steps=3 format=3 uid="uid://ypp73k2833va"]

[ext_resource type="Texture2D" uid="uid://ws0aewyjqfkv" path="res://towers/Pebble Launcher.png" id="1_rvssg"]

[sub_resource type="GDScript" id="GDScript_rvssg"]
script/source = "extends Panel

@onready var tower = preload(\"res://towers/pebble_launcher.tscn\")
var currTile

func _on_gui_input(event: InputEvent) -> void:
	var tempTower = tower.instantiate()
	if event is InputEventMouseButton and event.button_mask == 1:
		#left click down
		add_child(tempTower)
		tempTower.global_position = event.global_position
		tempTower.process_mode = Node.PROCESS_MODE_DISABLED
	elif event is InputEventMouseMotion and event.button_mask == 1:
		get_child(1).global_position = event.global_position
		#left click down drag
		
	elif event is InputEventMouseButton and event.button_mask == 0:
		get_child(1).queue_free()
		var path = get_node(\"../../../../../../Towers\")
		
		path.add_child(tempTower)
		tempTower.global_position = event.global_position
		tempTower.get_node(\"area\").hide()
"

[node name="PebbleLauncherPanel" type="Panel"]
custom_minimum_size = Vector2(80, 80)
offset_right = 93.0
offset_bottom = 97.0
script = SubResource("GDScript_rvssg")

[node name="PebbleLauncher" type="Sprite2D" parent="."]
position = Vector2(43, 39)
texture = ExtResource("1_rvssg")

[connection signal="gui_input" from="." to="." method="_on_gui_input"]
